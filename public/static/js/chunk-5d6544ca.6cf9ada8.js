(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d6544ca"],{"05f6":function(e,t,s){"use strict";s("e6e3")},"32d2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"wrapper"}},[e._m(0),s("div",{attrs:{id:"tip"}},[e._v("\n        Due to increased demand, recordings are temporarily disabled and the maximum duration of a meeting has\n        been reduced to 60 minutes on this server.\n    ")]),s("div",{attrs:{id:"main"}},[s("div",{staticClass:"inner"},[e._m(1),s("div",{attrs:{id:"register-box"}},[s("div",{attrs:{id:"register-box-inner"}},[s("div",{staticClass:"form-line"},[s("label",[e._v("电子邮箱:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"请输入电子邮箱"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"form-line"},[s("label",[e._v("密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-line btn"},[s("button",{on:{click:e.reset}},[e._v("重置")]),s("button",{on:{click:e.login}},[e._v("登录")])]),s("div",{staticClass:"tips"},[e._v("\n                        没有有账号？\n                        "),s("router-link",{attrs:{to:{path:"register"}}},[e._v("注册")]),e._v("\n                        一个。\n                    ")],1)])])])]),s("div",{staticClass:"inner",attrs:{id:"my-foot"}},[e._v("\n        Powered by chugang\n    ")])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"my-head"}},[s("div",{staticClass:"inner"},[s("div",{attrs:{id:"logo"}},[e._v("在线会议")]),s("div",{attrs:{id:"menu"}},[s("ul")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"left-bar"}},[a("div",{attrs:{id:"ad"}},[a("img",{attrs:{src:s("a7ed")}})])])}],r={name:"index",data:function(){return{apiHost:"http://127.0.0.1:4000",email:"",password:""}},methods:{validateInput:function(){if(this.password.length<6)return this.$message({message:"密码至少6位",type:"error"}),!1;var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return!!e.test(this.email)||(this.$message({message:"请输入有效的邮箱",type:"error"}),!1)},login:function(){var e=this;if(this.email&&this.password){if(this.validateInput()){var t=this.apiHost+"/noauth/users/login",s={username:this.email,password:this.password};this.$http.post(t,s,{emulateJSON:!0}).then((function(t){var s=t.body;console.log(s),e.$message({message:"登录成功，即将进入您的主页",type:"success"}),localStorage.setItem("token",s.token),localStorage.setItem("userId",s.userId),localStorage.setItem("username",s.username),localStorage.setItem("account",s.username),localStorage.setItem("creatorId",s.creatorId),e.$router.push({name:"meeting-list",query:{username:e.email}})}),(function(t){console.log(t),e.$message({message:"密码或电子邮箱输入错误",type:"error"})})).finally((function(t){e.reload()}))}}else this.$message({message:"邮箱和密码都必须填写",type:"error"})},reset:function(){this.email="",this.password=""}},mounted:function(){}},n=r,o=(s("05f6"),s("2c07")),l=Object(o["a"])(n,a,i,!1,null,"473b8b49",null);t["default"]=l.exports},a7ed:function(e,t,s){e.exports=s.p+"static/img/ad.bef69ce2.jpeg"},e6e3:function(e,t,s){}}]);