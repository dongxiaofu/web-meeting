(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ee355b4"],{"0ecf":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"wrapper"}},[e("div",{attrs:{id:"my-head"}},[e("div",{staticClass:"inner"},[e("div",{attrs:{id:"logo"}},[t._v("在线会议")]),e("div",{attrs:{id:"menu"}},[e("ul",[t.isLogin?e("div",[e("li",{directives:[{name:"show",rawName:"v-show",value:""!=t.username,expression:"username != ''"}]},[e("span",{attrs:{id:"first-letter"}},[t._v(t._s(t.username.slice(0,1).toUpperCase()))]),t._v("\n              "+t._s(t.username)+"\n            ")]),e("li",{staticStyle:{cursor:"pointer"},on:{click:t.logout}},[t._v("退出")])]):e("div",[e("li",[e("router-link",{attrs:{to:{path:"login"}}},[t._v("登录")])],1),e("li",[e("router-link",{attrs:{to:{path:"register"}}},[t._v("注册")])],1)])])])])]),e("div",{attrs:{id:"tip"}},[t._v("\n    Due to increased demand, recordings are temporarily disabled and the maximum duration of a meeting has\n    been reduced to 60 minutes on this server.\n  ")]),e("div",{attrs:{id:"main"}},[e("div",{staticClass:"inner"},[e("div",{staticClass:"meeting-operation"},[e("div",{staticClass:"meeting-title"},[t._m(0),e("div",{staticClass:"host"},[e("span",{attrs:{id:"content-first-letter"}},[t._v(t._s(t.host.slice(0,1)))]),t._v("\n            "+t._s(t.host)+"（主持人）\n          ")])]),e("div",{staticClass:"enter-op"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.participant,expression:"participant"}],attrs:{type:"text",placeholder:"请输入您的名字"},domProps:{value:t.participant},on:{input:function(i){i.target.composing||(t.participant=i.target.value)}}}),e("button",{on:{click:t.join}},[t._v("加入")])])]),e("div",{staticClass:"clear"}),t._m(1)])]),e("div",{staticClass:"inner",attrs:{id:"my-foot"}},[t._v("\n    Powered by chugang\n  ")])])},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tips"},[e("p",[t._v("您已被邀请加入")]),e("p",{attrs:{id:"main-room"}},[t._v("主会议室")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"meeting-list"},[e("div",{staticClass:"list-title"},[e("div",{staticClass:"title"},[t._v("会议录像")]),e("div",{staticClass:"search-ipt"},[e("input",{attrs:{type:"text",placeholder:"搜索"}}),e("i",{staticClass:"search-icon"})])]),e("div",{staticClass:"my-table"},[e("div",{staticClass:"my-th"},[e("ul",[e("li",[t._v("名字")]),e("li",{staticClass:"pic"},[t._v("预览图")]),e("li",[t._v("长度")]),e("li",[t._v("用户数")]),e("li",[t._v("可见性")]),e("li",[t._v("格式")])])]),e("div",{staticClass:"no-video"},[t._v("\n            这个会议室没有录像\n          ")]),e("div",{staticClass:"my-td"},[e("ul",[e("li",[t._v("名字")]),e("li",[e("img",{attrs:{src:"http://dev.meeting.com/html/pic.png "}})]),e("li",[t._v("1小时42分")]),e("li",[t._v("3人")]),e("li",[t._v("私密")]),e("li",[t._v("格式")])]),e("ul",[e("li",[t._v("名字")]),e("li",[e("img",{attrs:{src:"http://dev.meeting.com/html/pic.png "}})]),e("li",[t._v("1小时42分")]),e("li",[t._v("3人")]),e("li",[t._v("私密")]),e("li",[t._v("格式")])]),e("ul",[e("li",[t._v("名字")]),e("li",[e("img",{attrs:{src:"http://dev.meeting.com/html/pic.png "}})]),e("li",[t._v("1小时42分")]),e("li",[t._v("3人")]),e("li",[t._v("私密")]),e("li",[t._v("格式")])])])])])}],n={name:"index",data:function(){return{participant:"",roomid:"",host:"",meeting:{},isLogin:!1,username:"",participants:[],hostAddress:"http://127.0.0.1:4000",getMeetingApi:"/noauth/meeting"}},methods:{join:function(){var t=this;if(""!=this.roomid&&""!=this.participant){var i=this.participants.filter((function(i){return t.participant===i.account}));if(console.log(i),i.length)this.$message({message:"会议已经有人使用这个名字了，请用其他不同的名字参加会议",type:"error"});else{var e={account:this.participant,roomid:this.roomid};localStorage.setItem("account",this.participant),this.$router.push({path:"detail",query:e})}}else this.$message({message:"请填写您的名字",type:"error"})},getMeeting:function(){var t=this,i=this.hostAddress+this.getMeetingApi;this.$http.get(i,{params:{roomid:this.roomid}}).then((function(i){console.log(i),t.meeting=i.body.data,t.host=t.meeting.host,t.participants=t.meeting.users;var e=localStorage.getItem("userId");e!=t.meeting.creatorId||t.$router.push({path:"meeting-list"})}),(function(t){console.log("error:"),console.log(t)})).finally((function(t){}))},logout:function(){var t=localStorage.getItem("username");void 0==t&&null==t||(localStorage.setItem("token",null),localStorage.setItem("userId",null),localStorage.setItem("username",null),localStorage.setItem("account",null),localStorage.setItem("creatorId",null),this.isLogin=!1)}},mounted:function(){var t=localStorage.getItem("username");console.log("username:"+t),void 0==t&&null==t||(this.isLogin=!0,this.username=t),this.roomid=this.$route.query.roomid,void 0!=this.roomid&&this.roomid,""!=this.roomid&&this.getMeeting()}},r=n,o=(e("b077"),e("2c07")),l=Object(o["a"])(r,s,a,!1,null,"4269807a",null);i["default"]=l.exports},b077:function(t,i,e){"use strict";e("e517")},e517:function(t,i,e){}}]);